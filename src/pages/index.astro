---
import BlogPostCard from '../components/BlogPostCard.astro';
import Section from '../components/Section.astro';
import Layout from '../layouts/Layout.astro';
import { FrontMatter, sortByDate } from '../utils/posts';

const posts = await Astro.glob<FrontMatter>("./posts/*.md");
const sortedPosts = sortByDate(posts);
const lastPosts = sortedPosts.slice(0, 3);
---

<Layout head={{title: "Welcome to Astro.", description: "The main page"}}>
	<Section>
		<main>
			<div class="flex flex-col items-center md:flex-row md:justify-between md:gap-x-24">
				<div>
				<h1 class="text-3xl font-bold mb-0 mt-0">
					Hello. I'm <span class="gradient">Marijn Kneppers</span>
				</h1>
				<p class="mt-6 text-xl leading-9">
					I'm a 16 year old developer living in the Netherlands
				</p>
				</div>
				<div class="shrink-0">
					<img class="h-80 w-64" src="/images/foto.jpg" alt="A picture of me" loading="lazy" />
				</div>
			</div>
		</main>
	</Section>
	<Section>
		<div class="flex items-baseline justify-between">
			<div>
				Recent <span class="gradient">Projects</span>
			</div>
			<div class="text-sm hover:translate-x-1">
				<a class="no-underline" href="/projects/">View all projects →</a>
			</div>
		</div>
		<div class="grid bg-slate-800 rounded-md p-3 gap-4">
			<div class="bg-slate-700 flex flex-col items-center p-3 gap-x-8 rounded-md md:flex-row">
				<div class="shrink-0">
					<a>
						<img src="/images/foto.jpg" alt="test" class="h-36 w-36 hover:translate-y-1" />
					</a>
				</div>
				<div>
					<div class="flex flex-col items-center md:flex-row">
						<div>
							<a class="hover:text-cyan-400 no-underline">
								<div class="font-bold text-xl">
									Project
								</div>
							</a>
						</div>
						<div class="ml-3 flex gap-2">
							<div class="rounded-md px-2 py-1 text-xs font-semibold bg-red-700 text-red-500">
								Unity
							</div>
						</div>
					</div>
					<p class="mt-4 text-gray-400">
						Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse
        bibendum. Nunc non posuere consectetur, justo erat semper enim, non
        hendrerit dui odio id enim.
					</p>
				</div>
			</div>
			<div class="bg-slate-700 flex flex-col items-center p-3 gap-x-8 rounded-md md:flex-row">
				<div class="shrink-0">
					<a>
						<img src="/images/foto.jpg" alt="test" class="h-36 w-36 hover:translate-y-1" />
					</a>
				</div>
				<div>
					<div class="flex flex-col items-center md:flex-row">
						<div>
							<a class="hover:text-cyan-400 no-underline">
								<div class="font-bold text-xl">
									Project
								</div>
							</a>
						</div>
						<div class="ml-3 flex gap-2">
							<div class="rounded-md px-2 py-1 text-xs font-semibold bg-red-700 text-red-500">
								Unity
							</div>
						</div>
					</div>
					<p class="mt-4 text-gray-400">
						Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse
        bibendum. Nunc non posuere consectetur, justo erat semper enim, non
        hendrerit dui odio id enim.
					</p>
				</div>
			</div>
		</div>
	</Section>
	<Section>
		<div class="flex items-baseline justify-between">
			<div>
				Recent <span class="gradient">Posts</span>
			</div>
			<div class="text-sm hover:translate-x-1">
				<a class="no-underline" href="/posts/">View all posts →</a>
			</div>
		</div>
		<div class="grid grid-cols-1 gap-6 md:grid-cols-3">
			{lastPosts.map((post) => 
			(
				<BlogPostCard post={post} />
			))}
		</div>
	</Section>
</Layout>